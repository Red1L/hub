{"version":3,"sources":["modules/controllers/user.ts"],"names":[],"mappings":";;IAIA;QAQI,wBAAqB,GAAG,EAAU,SAAS,EAAU,WAAW,EAAU,YAAY;YAR1F,iBAiCC;YAzBwB,QAAG,GAAH,GAAG,CAAA;YAAU,cAAS,GAAT,SAAS,CAAA;YAAU,gBAAW,GAAX,WAAW,CAAA;YAAU,iBAAY,GAAZ,YAAY,CAAA;YAP/E,mBAAc,GAAgB,EAAE,CAAC;YACjC,uBAAkB,GAAgB,EAAE,CAAC;YAOxC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC;YAE3D,IAAI,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAC,UAAe;gBACnD,KAAI,CAAC,cAAc,GAAG,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBACzD,KAAI,CAAC,mBAAmB,GAAG,UAAU,CAAC,UAAU,CAAC;YACrD,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,wBAAwB,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAC,UAAe;gBAC1D,KAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBAC7D,KAAI,CAAC,uBAAuB,GAAG,UAAU,CAAC,UAAU,CAAC;YACzD,CAAC,CAAC,CAAC;QACP,CAAC;;QAEM,0CAAiB,GAAxB;YACI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;QAC/D,CAAC;QAEM,iDAAwB,GAA/B;YACI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;QACrD,CAAC;QAEM,6BAAI,GAAX,UAAY,SAAoB;YAC5B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;QACzD,CAAC;QAzBM,sBAAO,GAAG,CAAC,aAAa,EAAE,WAAW,EAAE,uBAAuB,EAAE,cAAc,CAAC,CAAC;QA0B3F,qBAAC;IAAD,CAjCA,AAiCC,IAAA;IAED,OAAO;SACF,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC;SAC7B,UAAU,CAAC,gBAAgB,EAAE,cAAc,CAAC,CAAC","file":"modules/controllers/user.js","sourcesContent":["import module = require('./module');\r\nimport angular = require(\"{angular}/angular\");\r\nimport IResource = angular.resource.IResource;\r\n\r\nclass UserController {\r\n    public userComponents: Component[] = [];\r\n    public favoriteComponents: Component[] = [];\r\n    public userComponentsCount: number;\r\n    public favoriteComponentsCount: number;\r\n    public userPrincipals: { userId: string };\r\n\r\n    static $inject = ['HomeService', '$location', 'AuthenticationService', 'EventService'];\r\n    constructor (private api, private $location, private authService, private eventService) {\r\n        this.userPrincipals = this.authService.subjectPrincipals();\r\n\r\n        this.getUserComponents().$promise.then((components: any) => {\r\n            this.userComponents = components.$embedded('components');\r\n            this.userComponentsCount = components.resultSize;\r\n        });\r\n\r\n        this.getUserStarredComponents().$promise.then((components: any) => {\r\n            this.favoriteComponents = components.$embedded('components');\r\n            this.favoriteComponentsCount = components.resultSize;\r\n        });\r\n    };\r\n\r\n    public getUserComponents(): IResource {\r\n        return this.api('home').enter('user/components', {}).get();\r\n    }\r\n\r\n    public getUserStarredComponents(): IResource {\r\n        return this.api('home').enter('stars', {}).get();\r\n    }\r\n\r\n    public view(component: Component): void {\r\n        this.$location.path('hub/component/' + component.id);\r\n    }\r\n}\r\n\r\nangular\r\n    .module(module.angularModules)\r\n    .controller('UserController', UserController);"],"sourceRoot":"/source/"}