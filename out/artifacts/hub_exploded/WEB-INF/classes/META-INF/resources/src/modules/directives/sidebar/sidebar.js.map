{"version":3,"sources":["modules/directives/sidebar/sidebar.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;;;IAYH;QAEI,oBAAoB,UAAU,EAAU,QAAQ,EAAU,SAA8B,EAAU,YAAY,EAAU,qBAAqB,EAAU,oBAAoB;YAF/K,iBAuBC;YArBuB,eAAU,GAAV,UAAU,CAAA;YAAU,aAAQ,GAAR,QAAQ,CAAA;YAAU,cAAS,GAAT,SAAS,CAAqB;YAAU,iBAAY,GAAZ,YAAY,CAAA;YAAU,0BAAqB,GAArB,qBAAqB,CAAA;YAAU,yBAAoB,GAApB,oBAAoB,CAAA;YAC3K,aAAQ,GAAG,eAAe,CAAC;YAC3B,SAAI,GAAwB,UAAC,KAAuB;gBAEhD,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,4BAA4B,EAAE;oBAC/C,KAAK,CAAC,cAAc,GAAG,KAAI,CAAC,qBAAqB,CAAC,iBAAiB,EAAE,CAAC;gBAC1E,CAAC,CAAC,CAAC;gBAEH,KAAK,CAAC,oBAAoB,GAAG,KAAI,CAAC,oBAAoB,CAAC;gBAEvD,KAAK,CAAC,KAAK,GAAG,UAAC,IAAY;oBACvB,EAAE,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBAC7C,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;4BACpC,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC9B,CAAC,CAAC,CAAC;oBACP,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC9B,CAAC;gBAEL,CAAC,CAAA;YACL,CAAC,CAAA;QApB6K,CAAC;QADxK,kBAAO,GAAG,CAAC,YAAY,EAAE,UAAU,EAAE,WAAW,EAAE,cAAc,EAAE,uBAAuB,EAAE,sBAAsB,CAAC,CAAC;QAsB9H,iBAAC;IAAD,CAvBA,AAuBC,IAAA;IAED,OAAO;SACF,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC;SAC7B,SAAS,CAAC,YAAY,EAAE,gBAAgB,CAAC,aAAa,CAAa,UAAU,CAAC,CAAC,CAAC","file":"modules/directives/sidebar/sidebar.js","sourcesContent":["/*\n * Copyright (c) 2015-2016, The SeedStack authors <http://seedstack.org>\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n */\n\nimport module = require('../module');\nimport angular = require('{angular}/angular');\nimport sidebarTemplate = require('[text]!{hub}/modules/directives/sidebar/sidebar.html')\nimport HubUserService = require(\"../../services/user-service\");\n\ninterface IHubSidebarScope extends ng.IScope {\n    route(path: string): void;\n    authorizationService: { hasRole: (realm, role, attributes) => {} };\n    userPrincipals: { subjectId: string };\n}\nclass HubSidebar implements ng.IDirective {\n    static $inject = ['$mdSidenav', '$mdMedia', '$location', 'EventService', 'AuthenticationService', 'AuthorizationService'];\n    constructor(private $mdSidenav, private $mdMedia, private $location: ng.ILocationService, private eventService, private authenticationService, private authorizationService) {}\n    template = sidebarTemplate;\n    link: ng.IDirectiveLinkFn = (scope: IHubSidebarScope) => {\n\n        this.eventService.on('w20.security.authenticated', () => {\n            scope.userPrincipals = this.authenticationService.subjectPrincipals();\n        });\n\n        scope.authorizationService = this.authorizationService;\n\n        scope.route = (path: string) => {\n            if (this.$mdMedia('xs') || this.$mdMedia('sm')) {\n                this.$mdSidenav('sidebar').close().then(() => {\n                    this.$location.path(path);\n                });\n            } else {\n                this.$location.path(path);\n            }\n\n        }\n    }\n}\n\nangular\n    .module(module.angularModules)\n    .directive('hubSidebar', DirectiveFactory.getFactoryFor<HubSidebar>(HubSidebar));\n"],"sourceRoot":"/source/"}