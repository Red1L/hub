{"version":3,"sources":["modules/directives/scrolling/infinite-scroll.ts"],"names":[],"mappings":";;IAKA;QAEI,2BAAoB,QAAQ;YAFhC,iBAmBC;YAjBuB,aAAQ,GAAR,QAAQ,CAAA;YAC5B,aAAQ,GAAG,GAAG,CAAC;YACf,UAAK,GAAG;gBACJ,eAAe,EAAE,GAAG;gBACpB,SAAS,EAAE,GAAG;aACjB,CAAC;YACF,SAAI,GAAG,UAAC,KAAK,EAAE,OAAe;gBAC1B,KAAI,CAAC,QAAQ,CAAC;oBACV,IAAI,MAAM,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;oBACtC,IAAI,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;oBACpB,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE;wBAClB,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,GAAG,GAAG,CAAC,YAAY,IAAI,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;4BACvD,KAAK,CAAC,eAAe,CAAC,EAAC,SAAS,EAAE,KAAK,CAAC,SAAS,EAAC,CAAC,CAAC;wBACxD,CAAC;oBACL,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC;YACP,CAAC,CAAA;QAhB8B,CAAC;;QADzB,yBAAO,GAAG,CAAC,UAAU,CAAC,CAAC;QAkBlC,wBAAC;IAAD,CAnBA,AAmBC,IAAA;IAED,OAAO;SACF,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC;SAC7B,SAAS,CAAC,mBAAmB,EAAE,gBAAgB,CAAC,aAAa,CAAoB,iBAAiB,CAAC,CAAC,CAAC","file":"modules/directives/scrolling/infinite-scroll.js","sourcesContent":["import module = require('../module');\r\nimport angular = require('{angular}/angular');\r\nimport lodash = require('{lodash}/lodash');\r\nimport IAugmentedJQuery = angular.IAugmentedJQuery;\r\n\r\nclass HubInfiniteScroll implements ng.IDirective {\r\n    static $inject = ['$timeout'];\r\n    constructor(private $timeout) {};\r\n    restrict = 'A';\r\n    scope = {\r\n        onBottomReached: '&',\r\n        criterias: '='\r\n    };\r\n    link = (scope, element: JQuery) => {\r\n        this.$timeout(() => {\r\n            var parent = angular.element('#view');\r\n            var raw = parent[0];\r\n            parent.bind('scroll', () => {\r\n                if (raw.scrollTop + raw.offsetHeight >= raw.scrollHeight) {\r\n                    scope.onBottomReached({criterias: scope.criterias});\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nangular\r\n    .module(module.angularModules)\r\n    .directive('hubInfiniteScroll', DirectiveFactory.getFactoryFor<HubInfiniteScroll>(HubInfiniteScroll));\r\n\r\n"],"sourceRoot":"/source/"}